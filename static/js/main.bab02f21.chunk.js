(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{258:function(e,t,n){e.exports=n(453)},263:function(e,t,n){},453:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(61),s=n.n(o),i=(n(263),n(118)),l=n(72),c=n(109),u=n(15),p=n(16),m=n(18),h=n(17),d=n(19),g=n(484),v=n(469),f=n(31),E=n(479),b=n(480),y=n(84),O=n(472),j=n(482),w=n(454),k=n(477),S=function(){function e(){Object(u.a)(this,e)}return Object(p.a)(e,null,[{key:"fetchUser",value:function(){return fetch("https://community-helpers.herokuapp.com/api/v1/volounteers/profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token}})}},{key:"fetchUserGroups",value:function(e){return fetch("https://community-helpers.herokuapp.com/api/v1/volounteers/".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token}})}},{key:"joinEvent",value:function(e){return console.log("params to create group",e),fetch("https://community-helpers.herokuapp.com/api/v1/event_volounteers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}},{key:"logOut",value:function(){localStorage.removeItem("token")}},{key:"checklogin",value:function(e,t){return console.log("params for checking the login",e,t),fetch("https://community-helpers.herokuapp.com/api/v1/volounteers/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})})}},{key:"createUser",value:function(e,t,n,a){return fetch("https://community-helpers.herokuapp.com/api/v1/volounteers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:e,last_name:t,email:n,password:a})})}},{key:"joinGroup",value:function(e,t){return console.log("params for joining a group",e,t),fetch("https://community-helpers.herokuapp.com/api/v1/group_volounteers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify({volounteer_id:e,group_id:t})})}},{key:"fetchGroup",value:function(e){return console.log("parmas for fetching group data",e),fetch("https://community-helpers.herokuapp.com/api/v1/groups/".concat(e),{})}},{key:"fetchEvent",value:function(e){return fetch("https://community-helpers.herokuapp.com/api/v1/events/".concat(e),{headers:{"Content-Type":"application/json",Authorization:localStorage.token}})}},{key:"newEvent",value:function(e){return console.log(e),fetch("https://community-helpers.herokuapp.com/api/v1/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}},{key:"getVolounteersLocation",value:function(e){return fetch("https://community-helpers.herokuapp.com/api/v1/location/volounteers",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}},{key:"getGroupsLocation",value:function(e){return fetch("https://community-helpers.herokuapp.com/api/v1/location/groups",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}},{key:"createGroup",value:function(e){return fetch("https://community-helpers.herokuapp.com/api/v1/groups",{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}},{key:"updateEvent",value:function(e){return console.log(e),fetch("https://community-helpers.herokuapp.com/api/v1/events/".concat(e.event_id),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:localStorage.token},body:JSON.stringify(e)})}}]),e}(),C=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.changeHandler=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.email,r=t.password;a&&r?n.props.LogIn(n.state):n.setState({error:!0})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"\n      body > div,\n      body > div > div,\n      body > div > div > div.login-form {\n        height: 100%;\n      }\n    "),r.a.createElement(E.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(b.a,{as:"h2",color:"teal",textAlign:"center"},"Log-in to your account"),this.state.error?r.a.createElement(y.a,{color:"orange",pointing:"below"},"All fields are required."):null,r.a.createElement(O.a,{size:"large",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(j.a,{stacked:!0},r.a.createElement(O.a.Input,{placeholder:"email",onChange:function(t){return e.changeHandler(t)},name:"email",value:this.state.email}),r.a.createElement(O.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(t){return e.changeHandler(t)},name:"password",value:this.state.password}),r.a.createElement(w.a,{color:"teal",fluid:!0,size:"large"},"Login"))),r.a.createElement(k.a,null,"New to us? ",r.a.createElement("a",{onClick:function(){return e.props.history.push("/signup")},href:"#"},"Sign Up")))))}}]),t}(a.Component),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={first_name:"",last_name:"",email:"",password:"",error:!1},n.changeHandler=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.first_name,r=t.last_name,o=t.email,s=t.password;a&&r&&o&&s?n.props.SignUp(n.state):n.setState({error:!0})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login-form"},r.a.createElement("style",null,"\n          body > div,\n          body > div > div,\n          body > div > div > div.login-form {\n            height: 100%;\n          }\n        "),r.a.createElement(E.a,{textAlign:"center",style:{height:"100%"},verticalAlign:"middle"},r.a.createElement(E.a.Column,{style:{maxWidth:450}},r.a.createElement(b.a,{as:"h2",color:"teal",textAlign:"center"},"Create an account"),this.state.error?r.a.createElement(y.a,{color:"orange",pointing:"below"},"All fields are required."):null,r.a.createElement(O.a,{size:"large",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(j.a,{stacked:!0},r.a.createElement(O.a.Group,{widths:"equal"},r.a.createElement(O.a.Input,{placeholder:"First name",onChange:function(t){return e.changeHandler(t)},name:"first_name",value:this.state.first_name}),r.a.createElement(O.a.Input,{placeholder:"Last name",onChange:function(t){return e.changeHandler(t)},name:"last_name",value:this.state.last_name})),r.a.createElement(O.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",onChange:function(t){return e.changeHandler(t)},name:"email",value:this.state.email}),r.a.createElement(O.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",placeholder:"Password",type:"password",onChange:function(t){return e.changeHandler(t)},name:"password",value:this.state.password}),r.a.createElement(w.a,{color:"teal",fluid:!0,size:"large",type:"submit"},"Submit"))),r.a.createElement(k.a,null,"Have an account? ",r.a.createElement("a",{onClick:function(){return e.props.history.push("/login")}},"Login")))))}}]),t}(a.Component),_=n(486),D=n(466),G=n(44),L=n(467),A=n(478),x=n(483),T=function(){return"undefined"===typeof window?_.a.onlyTablet.minWidth:window.innerWidth},N=function(e,t){var n=t.mobile;return r.a.createElement(D.a,{id:"home-header"},r.a.createElement(b.a,{as:"h1",content:"I'm Your Neighbor!",style:{fontSize:n?"2em":"4em",fontWeight:"bold",textShadow:"0 1px 40px #ffffff",marginBottom:0,color:"grey",marginTop:n?"1.5em":"3em"}}),r.a.createElement(b.a,{as:"h2",content:"Lend a hand to a neighbor",style:{fontSize:n?"1.5em":"1.7em",fontWeight:"normal",marginTop:n?"0.5em":"1.5em"}}),r.a.createElement(w.a,{primary:!0,size:"huge",onClick:function(){return e.signUp()}},"Get Started",r.a.createElement(G.a,{name:"right arrow"})))},H=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n.hideFixedMenu=function(){return n.setState({fixed:!1})},n.showFixedMenu=function(){return n.setState({fixed:!0})},n.signUp=function(){n.props.history.push("/signup")},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;console.log("props",this.props);var n=this.props.children,a=this.state.fixed;return r.a.createElement(_.a,{getWidth:T,minWidth:_.a.onlyTablet.minWidth},r.a.createElement(L.a,{once:!1,onBottomPassed:this.showFixedMenu,onBottomPassedReverse:this.hideFixedMenu},r.a.createElement(j.a,{className:"home-segment",textAlign:"center",style:{minHeight:700,padding:"1em 0em"},vertical:!0},r.a.createElement(A.a,{fixed:a?"top":null,pointing:!a,secondary:!a,size:"large"},r.a.createElement(D.a,null,this.props.loggedIn?r.a.createElement(A.a.Item,{position:"right"},r.a.createElement(w.a,{as:"a",onClick:function(){return t.props.LogOut()}},"Log Out"),r.a.createElement(w.a,{as:"a",onClick:function(){return t.props.HasGroup()},primary:a,style:{marginLeft:"0.5em"}},"Member Page")):r.a.createElement(A.a.Item,{position:"right"},r.a.createElement(w.a,{secondary:!0,as:"a",onClick:function(){return t.props.history.push("/login")}},"Log in"),r.a.createElement(w.a,(e={primary:!0,as:"a",onClick:function(){return t.props.history.push("/signup")}},Object(f.a)(e,"primary",a),Object(f.a)(e,"style",{marginLeft:"0.5em"}),e),"Sign Up")))),r.a.createElement("div",{id:"main"},r.a.createElement(N,{signUp:this.signUp}),r.a.createElement("style",null,".home-segment{\n                  background-image: url('https://www1.nyc.gov/assets/planning/images/content/pages/plans/east-new-york/dcp_atlantic_warwick.jpg') !important;\n                  background-size: cover !important;\n                }")))),n)}}]),t}(a.Component),J=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleSidebarHide=function(){return n.setState({sidebarOpened:!1})},n.handleToggle=function(){return n.setState({sidebarOpened:!0})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.children,t=this.state.sidebarOpened;return r.a.createElement(_.a,{as:x.a.Pushable,getWidth:T,maxWidth:_.a.onlyMobile.maxWidth},r.a.createElement(x.a,{as:A.a,animation:"push",onHide:this.handleSidebarHide,vertical:!0,visible:t},r.a.createElement(A.a.Item,{as:"a"},"Log in"),r.a.createElement(A.a.Item,{as:"a"},"Sign Up")),r.a.createElement(x.a.Pusher,{dimmed:t},r.a.createElement(j.a,{textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.a.createElement(D.a,null,r.a.createElement(b.a,{as:"h1"},"Sorry, this website does not yet support mobile devices. Please visit using a computer. Thanks."),r.a.createElement("span",null,"We are working on it \ud83d\ude09")),r.a.createElement("img",{src:"https://cdn4.iconfinder.com/data/icons/computer-screen-emoji-set/200/Screen_4-512.png"})),e))}}]),t}(a.Component),U=function(e){return console.log("responsive props",e),r.a.createElement("div",null,r.a.createElement(H,{loggedIn:e.loggedIn,history:e.history,LogOut:e.LogOut,HasGroup:e.HasGroup},e.children),r.a.createElement(J,{loggedIn:e.loggedIn,history:e.history,LogOut:e.LogOut,HasGroup:e.HasGroup}))},z=function(e){return console.log("props home compoent",e.loggedIn),r.a.createElement(U,{loggedIn:e.loggedIn,LogOut:e.LogOut,HasGroup:e.HasGroup,history:e.history},r.a.createElement(j.a,{style:{padding:"8em 0em"},vertical:!0},r.a.createElement(E.a,{container:!0,stackable:!0,verticalAlign:"middle"},r.a.createElement(E.a.Row,null,r.a.createElement(E.a.Column,{width:8},r.a.createElement(b.a,{as:"h3",style:{fontSize:"2em"}},"We create unity within your community."),r.a.createElement("p",{style:{fontSize:"1.33em"}},"By You. You can now easily connect and get to know your neighbors, by sharing info, advice and arrange meetups."),r.a.createElement(b.a,{as:"h3",style:{fontSize:"2em"}},"Help is now right around the corner."),r.a.createElement("p",{style:{fontSize:"1.33em"}},"For You. It\u2019s easy. Just ask. Your neighbor will be at your doorstep ready to help you. Join your neighborhood group now.")),r.a.createElement(E.a.Column,{floated:"right",width:6})))))},P=n(52),M=n(476),W=n(248),R=function(e){return r.a.createElement(M.a,{style:{margin:"15px"}},r.a.createElement(M.a.Content,null,r.a.createElement(W.a,{floated:"right",size:"mini",src:"http://www.austingalano.org/wp-content/uploads/2015/09/groups.jpg"}),r.a.createElement(M.a.Header,null,e.groupData.name),r.a.createElement(M.a.Meta,null,e.groupData.volounteers_count," Members"),r.a.createElement(M.a.Description,null,e.groupData.description)),r.a.createElement(M.a.Meta,{extra:!0},r.a.createElement(G.a,{name:"map marker",color:"orange"}),e.groupData.neighborhood),r.a.createElement(M.a.Content,{extra:!0},r.a.createElement("div",{className:"ui two buttons"},r.a.createElement(w.a,{basic:!0,color:"green",onClick:function(){return e.JoinGroup(e.groupData.id)}},e.owner?"View":"Join"))))},Y=n(40),F=n.n(Y),V=n(464),q=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={address:""},n.handleChange=function(e){n.setState({address:e})},n.handleSelect=function(e){var t;Object(Y.geocodeByAddress)(e).then(function(e){return t=e[0].address_components[2].short_name,Object(Y.getLatLng)(e[0])}).then(function(a){console.log("Success",a),n.setState({address:e,location:a,neighborhood:t}),console.log(n.state),n.props.getVolounteersLocation(n.state)}).catch(function(e){return console.error("Error",e)})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:this.searchOptions},function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement(V.a,Object.assign({icon:{name:"search",circular:!0,link:!0}},t({placeholder:"Type your address ...",className:"location-search-input"}))),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",a(e,{className:t,style:n}),r.a.createElement("span",null,e.description))})))}))}}]),t}(a.Component),B=n(473),X=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:!1,name:"",descripton:""},n.handleOpen=function(){n.setState({modalOpen:!0}),console.log("open")},n.handleClose=function(){return n.setState({modalOpen:!1})},n.changeHandler=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.createGroup=function(e){n.props.createGroup({name:n.state.name,descripton:n.state.description}),n.setState({modalOpen:!1,name:"",descripton:""})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,{trigger:r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(w.a,{circular:!0,size:"big",onClick:this.handleOpen,inverted:!0,icon:"plus",color:"orange",content:"Create new group"})),centered:!0,open:this.state.modalOpen,onClose:this.handleClose,size:"small"},r.a.createElement(B.a.Header,null,"create a new group"),r.a.createElement(B.a.Content,{image:!0},r.a.createElement(O.a,null,r.a.createElement("h3",null,"New Group"),r.a.createElement(O.a.Field,null,r.a.createElement("label",null,"Name"),r.a.createElement("input",{placeholder:"Name",name:"name",value:this.state.name,onChange:this.changeHandler})),r.a.createElement(O.a.Field,null,r.a.createElement("label",null,"Description"),r.a.createElement("input",{placeholder:"Description",name:"descripton",value:this.state.description,onChange:this.changeHandler})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a,{type:"submit",onClick:this.handleClose},"Cancel"),r.a.createElement(w.a.Or,null),r.a.createElement(w.a,{color:"teal",btn:!0,"btn-primary":!0,type:"submit",onClick:this.createGroup},"Submit")))))}}]),t}(a.Component),K=n(468),Z=n(70),$=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={groupData:[],byLocation:[],currentUserGroups:[],hasAddress:!1,activeItem:"Near You",filtered:[]},n.getVolounteersLocation=function(e){S.getGroupsLocation(e).then(function(e){return e.json()}).then(function(e){console.log(n.props.user),e.length>0?n.setState({byLocation:e,hasAddress:!0}):n.setState({hasAddress:!0})})},n.filter=function(e){var t=n.state.groupData.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())});n.setState({filtered:t,activeItem:"filtered"})},n.newGroup=function(e){S.createGroup(e).then(function(e){if(!e.ok)throw console.log(e.ok),Error(e.statusText);return e.json()}).then(function(e){var t=[].concat(Object(P.a)(n.state.groupData),[e]);n.setState({groupData:t}),n.props.history.push("/members/".concat(e.id))}).catch(console.error)},n.handleItemClick=function(e,t){var a=t.name;n.setState({activeItem:a})},n.groups=function(){var e=n.state.activeItem;switch(console.log(e),e){case"All Groups":var t=n.state.groupData.map(function(e){return r.a.createElement("div",null,r.a.createElement(R,{JoinGroup:n.props.JoinGroup,groupData:e,key:e.last_name,user:n.props.user,owner:!1}))});return r.a.createElement(M.a.Group,null,t);case"filtered":var a=n.state.filtered.map(function(e){return r.a.createElement("div",null,r.a.createElement(R,{JoinGroup:n.props.JoinGroup,groupData:e,key:e.last_name,user:n.props.user,owner:!1}))});return r.a.createElement(M.a.Group,null,a);case"Near You":if(n.state.byLocation.length>0){var o=n.state.byLocation.map(function(e){return r.a.createElement("div",null,r.a.createElement(R,{JoinGroup:n.props.JoinGroup,groupData:e,key:e.last_name,user:n.props.user,owner:!1}))});return r.a.createElement(M.a.Group,null,o)}return r.a.createElement("span",null,"no results found");case"Your Groups":if(n.props.user.groups.length>0){var s=n.props.user.groups.map(function(e){return r.a.createElement("div",null,r.a.createElement(R,{JoinGroup:n.props.JoinGroup,groupData:e,key:e.last_name,user:n.props.user,owner:!0}))});return r.a.createElement(M.a.Group,null,s)}}},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://community-helpers.herokuapp.com/api/v1/groups").then(function(e){return e.json()}).then(function(t){e.setState({groupData:t})})}},{key:"render",value:function(){var e=this.state.activeItem;return console.log(this.props),this.state.hasAddress?r.a.createElement("div",null,r.a.createElement(X,{user:this.props.user,createGroup:this.newGroup}),r.a.createElement(Z.CSSTransitionGroup,{transitionName:"groups",transitionEnterTimeout:2e3,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:2e3},r.a.createElement(E.a,{centered:!0},r.a.createElement(E.a.Row,null,r.a.createElement(D.a,{style:{alignItems:"center",justifyContent:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{icon:!0,style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(G.a,{name:"users",circular:!0}),r.a.createElement(b.a.Content,{content:"groups"}),r.a.createElement(b.a.Subheader,{content:"Join existiong groups or create your very own"})),"All Groups"==e||"filtered"==e?r.a.createElement(E.a.Row,null,r.a.createElement(V.a,{onChange:this.filter,placeholder:"Search groups..."})):null)),r.a.createElement("hr",null),r.a.createElement(E.a.Row,{width:16},r.a.createElement(A.a,{pointing:!0,secondary:!0},r.a.createElement(A.a.Item,{icon:"map marker alternate",color:"orange",name:"Near You",active:"Near You"===e,onClick:this.handleItemClick}),r.a.createElement(A.a.Item,{name:"All Groups",color:"green",icon:"search plus",active:"All Groups"===e||"filtered"===e,onClick:this.handleItemClick}),r.a.createElement(A.a.Item,{name:"Your Groups",color:"yellow",icon:"users",active:"Your Groups"===e,onClick:this.handleItemClick}))),r.a.createElement(E.a.Row,{width:10},this.groups())))):r.a.createElement(Z.CSSTransitionGroup,{transitionName:"groups",transitionLeave:!0,transitionAppear:!1,transitionEnter:!1,transitionLeaveTimeout:1e3},r.a.createElement(E.a,{id:"group",centered:!0},r.a.createElement("style",null,"#group{\n             align-items: center;\n             justify-content: center;\n           }\n           "),r.a.createElement(D.a,{as:"h1",style:{alignItems:"center",justifyContent:"center"}},r.a.createElement("br",null),r.a.createElement(b.a,{icon:!0,style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(G.a,{name:"users",circular:!0}),r.a.createElement(b.a.Content,{content:"groups"}),r.a.createElement(b.a.Subheader,{content:"Join existiong groups or create your very own"})),r.a.createElement(q,{getVolounteersLocation:this.getVolounteersLocation,getGroupsLocation:this.getGroupsLocation,groupData:this.state.byLocation,user:this.props.user}),r.a.createElement(y.a,{color:"teal",content:"Type in your address and discover groups near you."}))))}}]),t}(a.Component),Q=Object(K.a)($),ee=n(160),te=n.n(ee),ne=n(470),ae=n(71),re=n.n(ae);ne.a.addLocale(re.a);var oe=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=new ne.a("en-US");return r.a.createElement(D.a,{textAlign:"justified"},r.a.createElement("div",{className:"messaging"},r.a.createElement("style",null,"\n                .mesgs{\n  \t              background: linear-gradient(to right, #91EAE4, #86A8E7, #7F7FD5);\n              }\n              "),r.a.createElement("div",{className:"inbox_msg"},r.a.createElement("div",{className:"mesgs"},r.a.createElement("div",{className:"msg_history"},this.props.messages.lenght>0?this.props.messages.map(function(t,n){return r.a.createElement("div",{className:"incoming_msg"},r.a.createElement("div",{className:"incoming_msg_img"}," ",r.a.createElement("img",{src:"https://ptetutorials.com/images/user-profile.png",alt:"sunil"})," "),r.a.createElement("div",{className:"received_msg"},r.a.createElement("div",{className:"received_withd_msg"},r.a.createElement("span",{className:"time_date"},t.sender.name),r.a.createElement("p",null,t.text,r.a.createElement("span",{class:"time_date"},e.format(new Date(t.createdAt)))))))}):r.a.createElement("span",null,"Messages will apear here."))))))}}]),t}(a.Component),se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={message:""},n.handleChange=function(e){n.setState({message:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.sendMessage(n.state.message),n.setState({message:""})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"type_msg"},r.a.createElement("div",{class:"input_msg_write"},r.a.createElement(V.a,{style:{width:550},value:this.state.message,className:"write_msg",onChange:this.handleChange,icon:r.a.createElement(G.a,{color:"blue",onClick:this.handleSubmit,name:"send",inverted:!0,circular:!0,link:!0}),placeholder:"Type a message"})))}}]),t}(a.Component),ie=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[]},n.instanceLocator="v1:us1:411b0598-90f0-462c-9c5e-7700603c4122",n.roomId=19439122,n.username="admin",n.secretKey="dabd03b3-b4d0-472d-9ebd-df69eac61ef7:VgvPufaNN+RnU0216cU9eZX+TCLDHl1rzi0D+lmC3SA=",n.testToken="https://us1.pusherplatform.io/services/chatkit_token_provider/v1/411b0598-90f0-462c-9c5e-7700603c4122/token",n.componentDidUpdate=function(e){n.props.user.email&&n.props!==e&&new te.a.ChatManager({instanceLocator:n.instanceLocator,userId:n.props.user.email,tokenProvider:new te.a.TokenProvider({url:n.testToken})}).connect().then(function(e){n.currentUser=e,e.subscribeToRoom({roomId:n.props.groupData.room_id,hooks:{onNewMessage:function(e){n.setState({messages:[].concat(Object(P.a)(n.state.messages),[e])})}}}),n.props.newJoin&&e.addUserToRoom({userId:n.props.user.email,roomId:n.props.groupData.room_id}).then(function(){console.log("Added ".concat(n.props.user.first_name," to room ").concat(n.props.groupData.room_id))}).catch(function(e){console.log("Error adding ".concat(n.props.user.first_name," to room ").concat(n.props.groupData.room_id,": ").concat(e))})})},n.sendMessage=function(e){n.currentUser.sendMessage({text:e,roomId:n.props.groupData.room_id})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(b.a,null,r.a.createElement(G.a,{color:"orange",inverted:!0,name:"chat"}),"Group Chat"),r.a.createElement(oe,{roomId:this.state.roomId,messages:this.state.messages}),r.a.createElement(se,{sendMessage:this.sendMessage})))}}]),t}(a.Component),le=n(245),ce=n(475),ue=n(463),pe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={volounteers:[],active:!0},n.joinEvent=function(){var e=[].concat(Object(P.a)(n.state.volounteers),[n.props.user]);n.setState({volounteers:e}),n.props.joinEvent(n.props.event_id)},n.style=function(){return n.state.volounteers.find(function(e){return e.id===n.props.user.id})?"btn btn-primary disabled":"btn btn-primary"},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"fetchEvent",value:function(){var e=this;S.fetchEvent(this.props.event_id).then(function(e){return e.json()}).then(function(t){e.setState({volounteers:t.volounteers})})}},{key:"render",value:function(){var e=this,t=this.props.eventData,n=this.state.volounteers.map(function(e){return console.log(e),r.a.createElement(ce.a.Item,null,r.a.createElement(ce.a.Content,null,"".concat(e.first_name," ").concat(e.last_name)))}),a=this.state.active;return r.a.createElement(B.a,{trigger:r.a.createElement(w.a,{fluid:!0,circular:!0,onClick:function(){return e.fetchEvent()}},"Details"),centered:!0,style:{marginTop:"0px !important",marginLeft:"auto",marginRight:"auto",alignContent:"center"}},r.a.createElement(B.a.Header,null,t.description),r.a.createElement(B.a.Content,null,r.a.createElement(B.a.Description,null,r.a.createElement(w.a,{href:"#",className:this.style(),onClick:function(t){return e.joinEvent(e.props.event_id)}},"I'm attending"),this.state.volounteers.length>0?r.a.createElement(ce.a,{ordered:!0},r.a.createElement(ce.a.Header,null,"People on this event:"),r.a.createElement("br",null),n):null)),r.a.createElement(B.a.Content,null,r.a.createElement(ue.a,{toggle:!0,label:"Mark as inactive",defaultChecked:a,onChange:function(){return e.props.updateEvent(e.props.event_id)}})))}}]),t}(a.Component);ne.a.addLocale(re.a);var me=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={currentIndex:0},n.cards=function(){var e=n.state.currentIndex;if(n.props.item&&n.props.item.length>0){var t=n.props.item[e].map(function(e){var t=new ne.a("en-US");return console.log(e),r.a.createElement("div",null,r.a.createElement("style",null,"#card {\n                border-style: solid;\n                border-width: 2px;\n                border-color: white;\n                border-radius: 12px;\n                box-shadow: 2px 1px 10px #888888;\n                background-color: white;\n              }"),r.a.createElement(M.a,{fluid:!0,id:"card",color:"#a9d1c9",style:{minHeight:275,minWidth:275,maxWidth:275,margin:"15px",color:"#a9d1c9"}},r.a.createElement(M.a.Content,null,r.a.createElement(G.a,{color:"teal",floated:"right",name:"clock outline"}),t.format(new Date(e.created_at)),r.a.createElement("br",null),r.a.createElement(M.a.Description,null,e.description)),r.a.createElement(M.a.Content,{extra:!0},r.a.createElement(M.a.Meta,null),r.a.createElement(M.a.Meta,null,r.a.createElement(G.a,{color:"orange",name:"map marker"}),e.address),r.a.createElement(M.a.Meta,{color:"teal"},e.volounteers_required>0?r.a.createElement("div",null,r.a.createElement(G.a,{color:"violet",name:"user circle outline"}),e.volounteers_required," volounteer required"):null),r.a.createElement(pe,{eventData:e,group_id:n.props.group_id,event_id:e.id,joinEvent:n.props.joinEvent,user:n.props.user,updateEvent:n.props.updateEvent}))))});return r.a.createElement(M.a.Group,{key:e},t)}},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"next",value:function(){this.state.currentIndex+1<this.props.item.length&&this.setState({currentIndex:this.state.currentIndex+1})}},{key:"previous",value:function(){var e=this.state.currentIndex;this.props.item.length;e>0&&this.setState({currentIndex:this.state.currentIndex-1})}},{key:"render",value:function(){var e=this;console.log("slider props",this.props.item);this.state.currentIndex;return r.a.createElement(E.a,{divided:!0,middle:!0,aligned:!0,style:{marginTop:"20px",alignItems:"center",justifyContent:"center"}},r.a.createElement(G.a,{onClick:function(){return e.previous()},link:!0,color:"teal",size:"huge",name:"angle left"}),r.a.createElement(Z.CSSTransitionGroup,{transitionName:"example",transitionEnterTimeout:700,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:500},this.props.item.length>0?this.cards():r.a.createElement("span",null,"Group events will apear here.")),r.a.createElement(G.a,{center:!0,onClick:function(){return e.next()},link:!0,color:"teal",size:"huge",name:"angle right"}))}}]),t}(a.Component),he=n(474),de=n(465),ge=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={address:""},n.handleChange=function(e){n.setState({address:e})},n.handleSelect=function(e){Object(Y.geocodeByAddress)(e).then(function(e){return Object(Y.getLatLng)(e[0])}).then(function(t){console.log("Success",t),n.setState({address:e,lat:t.lat,lng:t.lng}),console.log(n.state),n.props.submitAddress(n.state)}).catch(function(e){return console.error("Error",e)})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},function(e){var t=e.getInputProps,n=e.suggestions,a=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement(V.a,t({placeholder:"Type your address ...",className:"location-search-input"})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),n.map(function(e){var t=e.active?"suggestion-item--active":"suggestion-item",n=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",a(e,{className:t,style:n}),r.a.createElement("span",null,e.description))})))}))}}]),t}(a.Component),ve=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpen:!1,description:"",time:"",value:0},n.changeHandler=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleOpen=function(){return n.setState({modalOpen:!0})},n.handleClose=function(){return n.setState({modalOpen:!1})},n.submitHandler=function(){console.log("new event compoent"),n.props.newEvent(n.state.description),n.handleClose(),n.setState({modalOpen:!1,description:""})},n.newEvent=function(e){var t={description:n.state.description,volounteers_required:n.state.value},a=Object.assign(e,t);n.props.newEvent(a),n.handleClose(),n.setState({description:""})},n.handleChange=function(e,t){var a=t.value;return n.setState({value:a})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.value;return r.a.createElement(B.a,{trigger:r.a.createElement("div",null,r.a.createElement(w.a,{circular:!0,onClick:this.handleOpen,floated:"left",inverted:!0,icon:"plus",color:"orange",content:"add event"})),open:this.state.modalOpen,onClose:this.handleClose,centered:!0,size:"small"},r.a.createElement(B.a.Header,null,"Post an event for all group members to see."),r.a.createElement(B.a.Content,null,r.a.createElement(y.a,{content:"volounteers required ?"}),r.a.createElement(he.a,{options:[{key:1,text:"1",value:1},{key:2,text:"2",value:2},{key:3,text:"3",value:3},{key:4,text:"4",value:4}],value:t,simple:!0,item:!0,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement(O.a,null,r.a.createElement(de.a,{name:"description",placeholder:"description",value:this.state.description,onChange:function(t){return e.changeHandler(t)}})),r.a.createElement("br",null),r.a.createElement(B.a.Actions,null,r.a.createElement(fe,{newEvent:this.newEvent,description:this.state.description,time:this.state.time})),r.a.createElement(w.a,{onClick:this.handleClose,size:"small"},"Cancel")))}}]),t}(a.Component),fe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,address:[]},n.submitAddress=function(e){n.setState({address:e})},n.open=function(){return n.setState({open:!0})},n.close=function(){return n.setState({open:!1})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement(B.a,{open:t,onOpen:this.open,onClose:this.close,size:"small",trigger:r.a.createElement(w.a,{positive:!0,icon:!0,size:"medium",floated:"right"},"Next ",r.a.createElement(G.a,{name:"right chevron"}))},r.a.createElement(B.a.Header,null,"Enter the address for the event"),r.a.createElement(B.a.Content,null,r.a.createElement(ge,{submitAddress:this.submitAddress})),r.a.createElement(B.a.Actions,null,r.a.createElement(w.a,{icon:"check",type:"submit",onClick:function(){e.props.newEvent(e.state.address),e.close()},content:"All Done"})))}}]),t}(a.Component);ne.a.addLocale(re.a);var Ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={currentIndex:0,allEvents:[],currentEvents:[],eventData:n.props.eventData},n.joinEvent=function(e){S.joinEvent({group_id:n.props.match.params.id,volounteer_id:n.props.user.id,event_id:e}).then(function(e){return e.json()}).then(function(e){console.log("joined the event",e)})},n.newEvent=function(e){S.newEvent(Object(l.a)({},e,{group_id:n.props.match.params.id})).then(function(e){return e.json()}).then(function(e){console.log("created new event",e);var t=[].concat(Object(P.a)(n.state.eventData),[e]);n.setState({eventData:t})})},n.updateEvent=function(e){S.updateEvent({event_id:e,active:!1,group_id:n.props.match.params.id}).then(function(e){return e.json()}).then(function(t){var a=n.state.eventData.filter(function(t){return t.id!==e});console.log(a),n.setState({active:!1,eventData:a})})},n.componentDidUpdate=function(e){n.props.eventData!==e.eventData&&n.setState({eventData:n.props.eventData})},n.componentDidMount=function(e){n.setState({eventData:n.props.eventData})},n.iterater3=function(e){for(var t=e.length,n=[],a=0;a<t;){for(var r=[],o=0;o<3&&a<t;o++)r.push(e[a]),a++;n.push(r)}return n},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log("eventtop state: ",this.state);var e=this.iterater3(this.state.eventData.slice(0).reverse());return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(ve,{newEvent:this.newEvent}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(me,{group_id:this.props.match.params.id,item:e,user:this.props.user,joinEvent:this.joinEvent,updateEvent:this.updateEvent}))}}]),t}(a.Component),be=Object(K.a)(Ee),ye=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={groups:[],activeItem:"",showGroups:!1},n.handleGroupChange=function(e,t){var a=t.name;n.setState({activeItem:a}),n.props.history.push("/members/".concat(a))},n.componentDidMount=function(e){var t=n.props.match.params.id;n.setState({activeItem:parseInt(t)})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=(this.state||{}).activeItem,n=this.props.user.groups?this.props.user.groups.map(function(n){return r.a.createElement(A.a.Item,{name:n.id,active:t===n.id,onClick:e.handleGroupChange},r.a.createElement(A.a.Header,null,"".concat(n.name)))}):null;return r.a.createElement("div",null,r.a.createElement(A.a,{id:"menu",size:"large",pointing:!0,vertical:!0,style:{minHeight:1e3}},r.a.createElement(A.a.Item,null,r.a.createElement(w.a,{size:"small",content:"Log Out",onClick:this.props.logOut}),r.a.createElement("br",null),r.a.createElement(he.a,{inline:!0,floating:!0,icon:"angle down",text:"Groups"},r.a.createElement(he.a.Menu,null,r.a.createElement(he.a.Item,{icon:"setting",text:"Your groups",onClick:function(){return e.setState({showGroups:!e.state.showGroups})}}),r.a.createElement(he.a.Item,{icon:"search plus",text:"Explore more groups",onClick:function(){return e.props.history.push("/groups")}})))),r.a.createElement("br",null),this.state.showGroups?r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Header,null,"Your Groups"),r.a.createElement(A.a.Menu,null,n)):null,r.a.createElement(A.a.Item,null,r.a.createElement(A.a.Header,{size:"huge"},"Members    ",r.a.createElement(G.a,{name:"users"})),r.a.createElement(A.a.Menu,null,this.props.members.map(function(e){return r.a.createElement(A.a.Item,null,r.a.createElement(G.a,{color:"teal",name:"user large circle"}),"".concat(e.first_name," ").concat(e.last_name),e.is_admin?r.a.createElement(y.a,{color:"blue"},"admin"):null)})))))}}]),t}(a.Component),Oe=Object(le.a)(ye),je=function(){return"undefined"===typeof window?_.a.onlyTablet.minWidth:window.innerWidth},we=(a.Component,function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){console.log("desktop container props",this.props);var e=this.props.children;this.state.fixed;return r.a.createElement(_.a,{getWidth:function(){return"undefined"===typeof window?_.a.onlyTablet.minWidth:window.innerWidth},minWidth:_.a.onlyTablet.minWidth},r.a.createElement(E.a,null,r.a.createElement(E.a.Column,{width:3},r.a.createElement(Oe,{members:this.props.members,eventData:this.props.eventData,groupData:this.props.groupData,user:this.props.user,logOut:this.props.logOut})),r.a.createElement(E.a.Column,{centered:!0,width:12},r.a.createElement(E.a.Row,{width:8,style:{minHeight:"400px"}},r.a.createElement(be,{eventData:this.props.eventData,user:this.props.user})),r.a.createElement(E.a.Column,{centered:!0,width:12},r.a.createElement(E.a.Row,{width:8},r.a.createElement(ie,{newJoin:this.props.newJoin,groupData:this.props.groupData,user:this.props.user}))))),e)}}]),t}(a.Component)),ke=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},n.handleSidebarHide=function(){return n.setState({sidebarOpened:!1})},n.handleToggle=function(){return n.setState({sidebarOpened:!0})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.children;this.state.sidebarOpened;return r.a.createElement(_.a,{as:x.a.Pushable,getWidth:je,maxWidth:_.a.onlyMobile.maxWidth},r.a.createElement(j.a,{textAlign:"center",style:{minHeight:350,padding:"1em 0em"},vertical:!0},r.a.createElement(b.a,null,"Sorry this website does not support mobile devices. Please vist using a computer. Thanks")),e)}}]),t}(a.Component),Se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={eventData:[],members:[],groupData:[],user:{}},n.newEvent=function(e){S.newEvent(n.props.match.params.id,e).then(function(e){return e.json()}).then(function(e){console.log(e);var t=n.state.eventData;t.unshift(e),n.setState({eventData:t})})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("props inresponsive for mount",this.props.user),this.props.user&&S.fetchGroup(this.props.match.params.id).then(function(e){return e.json()}).then(function(t){e.setState({user:e.props.user,params:e.props.match,eventData:t[0].events,members:t[0].volounteers,groupData:t[0]})})}},{key:"componentDidUpdate",value:function(e){var t=this;console.log("props inresponsive for update",this.props),this.props.user===e.user&&e.match===this.props.match||S.fetchGroup(this.props.match.params.id).then(function(e){return e.json()}).then(function(e){t.setState({user:t.props.user,params:t.props.match,eventData:e[0].events,members:e[0].volounteers,groupData:e[0]})})}},{key:"render",value:function(){return console.log("responsive state",this.state),r.a.createElement("div",null,r.a.createElement(we,{members:this.state.members,newJoin:this.props.newJoin,params:this.state.params,eventData:this.state.eventData,groupData:this.state.groupData,loggedIn:this.props.loggedIn,history:this.props.history,logOut:this.props.logOut,HasGroup:this.props.HasGroup,user:this.state.user},this.props.children),r.a.createElement(ke,{members:this.state.members,eventData:this.state.eventData,groupData:this.state.groupData,loggedIn:this.props.loggedIn,history:this.props.history,LogOut:this.props.LogOut,HasGroup:this.props.HasGroup}))}}]),t}(a.Component),Ce=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(Se,{loggedIn:this.props.loggedIn,history:this.props.history,match:this.props.match,logOut:this.props.logOut,HasGroup:this.props.HasGroup,user:this.props.user,newJoin:this.props.newJoin})}}]),t}(a.Component),Ie=Object(le.a)(Ce),_e=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},loggedIn:!1,has_group:!1,group_data:[],groups:[],newJoin:!1},n.LogIn=function(e){var t=e.email,a=e.password;S.checklogin(t,a).then(function(e){var t=e.json();if(200===e.status)return t.then(function(e){n.setState({loggedIn:!0,user:e.user}),n.props.setUser(e.user),localStorage.token=e.auth_token,n.has_group()});t.then(alert)})},n.SignUp=function(e){var t=e.first_name,a=e.last_name,r=e.email,o=e.password;S.createUser(t,a,r,o).then(function(e){if(!e.ok)throw Error(e.message);return e.json()}).then(function(e){n.setState({loggedIn:!0,user:e.user}),localStorage.token=e.auth_token,n.has_group()}).catch(function(e){alert(e)})},n.LogOut=function(){S.logOut(),n.setState({loggedIn:!1,user:{}}),n.props.history.push("/"),n.props.LOGGED_OUT()},n.joinEvent=function(e){var t=e.group_id,a=e.event_id;S.joinEvent(t,n.state.user.id,a).then(function(e){return e.json()}).then(function(e){console.log("joined the event",e)})},n.JoinGroup=function(e){S.joinGroup(n.state.user.id,e).then(function(e){return e.json()}).then(function(t){console.log("joined the group",t),n.setState({newJoin:t.new_join}),n.props.history.push("/members/".concat(e))})},n.has_group=function(){fetch("https://community-helpers.herokuapp.com/api/v1/volounteers/".concat(n.state.user.id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.token}}).then(function(e){return e.json()}).then(function(e){console.log("has group",e);e.groups;e.groups.length>0?(n.setState({has_group:!0,groups:e.groups}),n.props.history.push("/members/".concat(e.groups[0].id))):n.props.history.push("/groups")})},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.token&&S.fetchUser().then(function(e){return e.json()}).then(function(t){t.error||(console.log("fetching the user",t),e.setState({user:t,loggedIn:!0}),e.props.setUser(t),e.props.LOGGED_IN())})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(v.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(z,Object.assign({},t,{loggedIn:e.state.loggedIn,LogOut:e.LogOut,HasGroup:e.has_group}))}}),r.a.createElement(v.a,{path:"/login",render:function(t){return r.a.createElement(C,Object.assign({},t,{LogIn:e.LogIn}))}}),r.a.createElement(v.a,{path:"/signup",render:function(t){return r.a.createElement(I,Object.assign({},t,{SignUp:e.SignUp}))}}),r.a.createElement(v.a,{path:"/test/:id",render:function(t){return r.a.createElement(Ie,Object.assign({},t,{user:e.state.user,joinEvent:e.joinEvent,logOut:e.LogOut}))}}),r.a.createElement(v.a,{path:"/groups",render:function(t){return r.a.createElement(Q,Object.assign({},t,{user:e.state.user,JoinGroup:e.JoinGroup,has_group:e.state.has_group,LogOut:e.LogOut}))}}),r.a.createElement(v.a,{exact:!0,path:"/members/:id",render:function(t){return r.a.createElement(Ie,Object.assign({},t,{user:e.state.user,joinEvent:e.joinEvent,logOut:e.LogOut,newJoin:e.state.newJoin}))}})))}}]),t}(r.a.Component),De=Object(K.a)(Object(i.b)(function(e){return{IsLoggedIn:e.IsLoggedIn,storeUser:e.user}},function(e){return{LOGGED_IN:function(){return e({type:"LOGGED_IN"})},LOGGED_OUT:function(){return e({type:"LOGGED_OUT"})},setUser:function(t){return e(function(e){return{type:"SET_USER",payload:e}}(t))}}})(_e));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ge=n(471),Le=(n(452),Object(c.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{IsLoggedIn:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN":return Object(l.a)({},e,{IsLoggedIn:!0});case"LOGGED_OUT":return Object(l.a)({},e,{IsLoggedIn:!1});case"SET_USER":return Object(l.a)({},e,{user:t.payload});default:return e}},{IsLoggedIn:!1}+window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));s.a.render(r.a.createElement(Ge.a,null,r.a.createElement(i.a,{store:Le},r.a.createElement(De,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[258,1,2]]]);
//# sourceMappingURL=main.bab02f21.chunk.js.map